set(ZLIB_BUILD_SHARED OFF CACHE BOOL "" FORCE)
set(ZLIB_BUILD_STATIC ON CACHE BOOL "" FORCE)
set(ZLIB_BUILD_TESTING OFF CACHE BOOL "" FORCE)
set(ZLIB_INSTALL OFF CACHE BOOL "" FORCE)

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/src/zconf.h.in ${CMAKE_CURRENT_SOURCE_DIR}/src/zconf.h COPYONLY)

add_subdirectory(src EXCLUDE_FROM_ALL)

set_target_properties(zlibstatic PROPERTIES POSITION_INDEPENDENT_CODE ON)
